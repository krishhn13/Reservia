<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Reservia - Your Table Awaits </title>
        <%- include("includes/login.ejs") %>
        <%- include("includes/styles.ejs") %>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <link rel="shortcut icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSU5zQzIc0nbzV04ns-mz3q7PwWJUYHLyHyQA&s" type="image/x-icon">
    </head>
    <body>
        <%- include("includes/header.ejs", { image: images }) %>
        
        <div class="container">
            <div class="login-box">
                <div class="decoration fork"></div>

                <div class="logo-container">
                    <div class="logo">
                        <span> R </span>
                    </div>
                </div>

                <h1> Welcome to Reservia </h1>
                <p class="tagline"> Where Every Meal Tells a Story </p>

                <!-- Direct POST form submission to backend -->
                <form class="login-form" method="POST" action="/login">
                    <div class="input-group">
                        <label for="email"> Email </label>
                        <i class="fa-solid fa-envelope" style="color: brown"></i> <!-- Brown -->
                        <input type="email" id="email" name="username" required placeholder="your@email.com">
                    </div>

                    <div class="input-group">
                        <label for="password"> Password </label>
                        <i class="fas fa-lock" style="color: brown"></i>
                        <input type="password" id="password" name="password" required placeholder="••••••••">
                    </div>

                    <div class="remember-forgot">
                        <a href="#" class="forgot-password"> Forgot Password? </a>
                    </div>

                    <button type="submit" class="login-btn">
                        <i class="fas fa-utensils"></i> LET'S DINE IN
                    </button>
                </form>

                <div class="social-login">
                    <span> Or continue with </span>
                </div>

                <div class="social-icons">
                    <a href="#" class="github" title="github">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="#" class="google" title="google"> 
                        <i class="fab fa-google"></i>
                    </a>
                    <a href="#" class="facebook" title="facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="twitter" title="twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                </div>

                <p class="signup-link">
                    <p id="firstTime" style="text-align: center;">
                        First time foodie?
                    </p>
                    <a href="/sign-up" style="text-align: center; text-decoration: underline"> Create an account </a>
                </p>
            </div>
        </div>

        <%- include("includes/footer.ejs") %>

        <!-- Display the alert if a message is passed from the backend -->
        <% if (message) { %>
            <script>
                alert("<%= message %>");
                window.location.href = "<%= redirect %>"; // Redirect to the desired page
            </script>
        <% } %>
        
    </body>
</html>
